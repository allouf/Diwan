import { PrismaClient, UserRole, Priority, SenderType, DocumentStatus } from '../src/generated/prisma';\nimport bcrypt from 'bcryptjs';\n\nconst prisma = new PrismaClient();\n\nasync function main() {\n  console.log('ðŸŒ± Starting database seeding...');\n\n  // Clean existing data (for development only)\n  console.log('ðŸ§¹ Cleaning existing data...');\n  await prisma.notification.deleteMany();\n  await prisma.activityLog.deleteMany();\n  await prisma.documentSeenEntry.deleteMany();\n  await prisma.attachment.deleteMany();\n  await prisma.outcome.deleteMany();\n  await prisma.documentDepartment.deleteMany();\n  await prisma.document.deleteMany();\n  await prisma.categoryDepartment.deleteMany();\n  await prisma.user.deleteMany();\n  await prisma.category.deleteMany();\n  await prisma.department.deleteMany();\n  await prisma.systemConfig.deleteMany();\n\n  // Create system configuration\n  console.log('âš™ï¸ Creating system configuration...');\n  await prisma.systemConfig.createMany({\n    data: [\n      {\n        key: 'SYSTEM_NAME',\n        value: 'Correspondence Management System',\n        description: 'Name of the CMS system',\n      },\n      {\n        key: 'SYSTEM_NAME_AR',\n        value: 'Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø§Øª',\n        description: 'Arabic name of the CMS system',\n      },\n      {\n        key: 'ORGANIZATION',\n        value: 'HIAST',\n        description: 'Organization code',\n      },\n      {\n        key: 'ORGANIZATION_FULL',\n        value: 'Higher Institute for Applied Science and Technology',\n        description: 'Full organization name',\n      },\n      {\n        key: 'ORGANIZATION_FULL_AR',\n        value: 'Ø§Ù„Ù…Ø¹Ù‡Ø¯ Ø§Ù„Ø¹Ø§Ù„ÙŠ Ù„Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ© ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§',\n        description: 'Full organization name in Arabic',\n      },\n      {\n        key: 'REF_NUMBER_SEQUENCE',\n        value: '1',\n        description: 'Current sequence number for reference generation',\n      },\n    ],\n  });\n\n  // Create departments\n  console.log('ðŸ¢ Creating departments...');\n  const departments = await prisma.department.createMany({\n    data: [\n      {\n        name: 'Information Technology',\n        nameAr: 'ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',\n        contactPerson: 'Ahmad Al-Rashid',\n        email: 'it@hiast.edu.sy',\n        phone: '+963-11-6112000',\n        description: 'Handles all IT infrastructure and software development',\n      },\n      {\n        name: 'Human Resources',\n        nameAr: 'Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©',\n        contactPerson: 'Layla Hassan',\n        email: 'hr@hiast.edu.sy',\n        phone: '+963-11-6112001',\n        description: 'Manages employee relations and administrative affairs',\n      },\n      {\n        name: 'Finance & Accounting',\n        nameAr: 'Ø§Ù„Ù…Ø§Ù„ÙŠØ© ÙˆØ§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©',\n        contactPerson: 'Omar Khalil',\n        email: 'finance@hiast.edu.sy',\n        phone: '+963-11-6112002',\n        description: 'Financial planning, budgeting, and accounting',\n      },\n      {\n        name: 'Academic Affairs',\n        nameAr: 'Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©',\n        contactPerson: 'Dr. Mariam Farid',\n        email: 'academic@hiast.edu.sy',\n        phone: '+963-11-6112003',\n        description: 'Academic programs and student affairs',\n      },\n      {\n        name: 'Research & Development',\n        nameAr: 'Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±',\n        contactPerson: 'Dr. Samir Nouri',\n        email: 'research@hiast.edu.sy',\n        phone: '+963-11-6112004',\n        description: 'Research projects and innovation initiatives',\n      },\n      {\n        name: 'Legal Affairs',\n        nameAr: 'Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©',\n        contactPerson: 'Nadia Al-Zahra',\n        email: 'legal@hiast.edu.sy',\n        phone: '+963-11-6112005',\n        description: 'Legal consultation and contract management',\n      },\n      {\n        name: 'Correspondence Office',\n        nameAr: 'Ù…ÙƒØªØ¨ Ø§Ù„Ù…Ø±Ø§Ø³Ù„Ø§Øª',\n        contactPerson: 'Fatima Al-Sakr',\n        email: 'correspondence@hiast.edu.sy',\n        phone: '+963-11-6112006',\n        description: 'Central correspondence management and document routing',\n      },\n    ],\n  });\n\n  // Get created departments for references\n  const createdDepartments = await prisma.department.findMany();\n  const itDept = createdDepartments.find(d => d.name === 'Information Technology')!;\n  const hrDept = createdDepartments.find(d => d.name === 'Human Resources')!;\n  const financeDept = createdDepartments.find(d => d.name === 'Finance & Accounting')!;\n  const academicDept = createdDepartments.find(d => d.name === 'Academic Affairs')!;\n  const researchDept = createdDepartments.find(d => d.name === 'Research & Development')!;\n  const legalDept = createdDepartments.find(d => d.name === 'Legal Affairs')!;\n  const correspondenceDept = createdDepartments.find(d => d.name === 'Correspondence Office')!;\n\n  // Create categories\n  console.log('ðŸ“‚ Creating categories...');\n  const categories = await prisma.category.createMany({\n    data: [\n      { name: 'Administrative', nameAr: 'Ø¥Ø¯Ø§Ø±ÙŠØ©' },\n      { name: 'Financial', nameAr: 'Ù…Ø§Ù„ÙŠØ©' },\n      { name: 'Academic', nameAr: 'Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©' },\n      { name: 'Technical', nameAr: 'ØªÙ‚Ù†ÙŠØ©' },\n      { name: 'Legal', nameAr: 'Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©' },\n      { name: 'Research', nameAr: 'Ø¨Ø­Ø«ÙŠØ©' },\n      { name: 'Student Affairs', nameAr: 'Ø´Ø¤ÙˆÙ† Ø§Ù„Ø·Ù„Ø§Ø¨' },\n      { name: 'External Relations', nameAr: 'Ø¹Ù„Ø§Ù‚Ø§Øª Ø®Ø§Ø±Ø¬ÙŠØ©' },\n      { name: 'Procurement', nameAr: 'Ù…Ø´ØªØ±ÙŠØ§Øª' },\n      { name: 'Infrastructure', nameAr: 'Ø¨Ù†ÙŠØ© ØªØ­ØªÙŠØ©' },\n    ],\n  });\n\n  // Get created categories for relationships\n  const createdCategories = await prisma.category.findMany();\n  const adminCategory = createdCategories.find(c => c.name === 'Administrative')!;\n  const financialCategory = createdCategories.find(c => c.name === 'Financial')!;\n  const academicCategory = createdCategories.find(c => c.name === 'Academic')!;\n  const technicalCategory = createdCategories.find(c => c.name === 'Technical')!;\n  const legalCategory = createdCategories.find(c => c.name === 'Legal')!;\n  const researchCategory = createdCategories.find(c => c.name === 'Research')!;\n\n  // Create category-department relationships\n  console.log('ðŸ”— Creating category-department relationships...');\n  await prisma.categoryDepartment.createMany({\n    data: [\n      // Administrative -> HR, Correspondence\n      { categoryId: adminCategory.id, departmentId: hrDept.id },\n      { categoryId: adminCategory.id, departmentId: correspondenceDept.id },\n      \n      // Financial -> Finance\n      { categoryId: financialCategory.id, departmentId: financeDept.id },\n      \n      // Academic -> Academic Affairs\n      { categoryId: academicCategory.id, departmentId: academicDept.id },\n      \n      // Technical -> IT\n      { categoryId: technicalCategory.id, departmentId: itDept.id },\n      \n      // Legal -> Legal Affairs\n      { categoryId: legalCategory.id, departmentId: legalDept.id },\n      \n      // Research -> Research & Development\n      { categoryId: researchCategory.id, departmentId: researchDept.id },\n    ],\n  });\n\n  // Create users\n  console.log('ðŸ‘¥ Creating users...');\n  const hashedPassword = await bcrypt.hash('admin123', 10);\n  const defaultPassword = await bcrypt.hash('password123', 10);\n  \n  const users = await prisma.user.createMany({\n    data: [\n      // System Admin\n      {\n        name: 'System Administrator',\n        email: 'admin@hiast.edu.sy',\n        password: hashedPassword,\n        role: UserRole.ADMIN,\n      },\n      // Correspondence Officer\n      {\n        name: 'Fatima Al-Sakr',\n        email: 'fatima.sakr@hiast.edu.sy',\n        password: defaultPassword,\n        role: UserRole.CORRESPONDENCE_OFFICER,\n        departmentId: correspondenceDept.id,\n      },\n      // Department Heads\n      {\n        name: 'Ahmad Al-Rashid',\n        email: 'ahmad.rashid@hiast.edu.sy',\n        password: defaultPassword,\n        role: UserRole.DEPARTMENT_HEAD,\n        departmentId: itDept.id,\n      },\n      {\n        name: 'Layla Hassan',\n        email: 'layla.hassan@hiast.edu.sy',\n        password: defaultPassword,\n        role: UserRole.DEPARTMENT_HEAD,\n        departmentId: hrDept.id,\n      },\n      {\n        name: 'Omar Khalil',\n        email: 'omar.khalil@hiast.edu.sy',\n        password: defaultPassword,\n        role: UserRole.DEPARTMENT_HEAD,\n        departmentId: financeDept.id,\n      },\n      // Department Users\n      {\n        name: 'Sarah Al-Nouri',\n        email: 'sarah.nouri@hiast.edu.sy',\n        password: defaultPassword,\n        role: UserRole.DEPARTMENT_USER,\n        departmentId: itDept.id,\n      },\n      {\n        name: 'Khalid Mahmoud',\n        email: 'khalid.mahmoud@hiast.edu.sy',\n        password: defaultPassword,\n        role: UserRole.DEPARTMENT_USER,\n        departmentId: hrDept.id,\n      },\n      {\n        name: 'Rania Farid',\n        email: 'rania.farid@hiast.edu.sy',\n        password: defaultPassword,\n        role: UserRole.DEPARTMENT_USER,\n        departmentId: academicDept.id,\n      },\n    ],\n  });\n\n  // Get created users\n  const createdUsers = await prisma.user.findMany();\n  const adminUser = createdUsers.find(u => u.role === UserRole.ADMIN)!;\n  const correspondenceOfficer = createdUsers.find(u => u.role === UserRole.CORRESPONDENCE_OFFICER)!;\n  const itHead = createdUsers.find(u => u.name === 'Ahmad Al-Rashid')!;\n\n  // Create sample documents\n  console.log('ðŸ“„ Creating sample documents...');\n  const documents = [];\n  \n  for (let i = 1; i <= 15; i++) {\n    const year = new Date().getFullYear();\n    const refNumber = `HIAST-${year}-${i.toString().padStart(5, '0')}`;\n    \n    const sampleDocuments = [\n      {\n        referenceNumber: `HIAST-${year}-00001`,\n        subject: 'Budget Approval Request for IT Infrastructure',\n        subjectAr: 'Ø·Ù„Ø¨ Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªØ­ØªÙŠØ© Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',\n        summary: 'Request for approval of annual IT infrastructure budget including hardware upgrades, software licenses, and network improvements.',\n        senderName: 'Ministry of Higher Education',\n        category: financialCategory,\n        departments: [financeDept, itDept],\n        priority: Priority.HIGH,\n      },\n      {\n        referenceNumber: `HIAST-${year}-00002`,\n        subject: 'New Faculty Recruitment Guidelines',\n        subjectAr: 'Ø¥Ø±Ø´Ø§Ø¯Ø§Øª ØªÙˆØ¸ÙŠÙ Ø£Ø¹Ø¶Ø§Ø¡ Ù‡ÙŠØ¦Ø© Ø§Ù„ØªØ¯Ø±ÙŠØ³ Ø§Ù„Ø¬Ø¯Ø¯',\n        summary: 'Updated guidelines for recruiting new faculty members including qualification requirements and interview processes.',\n        senderName: 'Academic Council',\n        category: academicCategory,\n        departments: [hrDept, academicDept],\n        priority: Priority.NORMAL,\n      },\n      {\n        referenceNumber: `HIAST-${year}-00003`,\n        subject: 'Research Collaboration Proposal with Damascus University',\n        subjectAr: 'Ø§Ù‚ØªØ±Ø§Ø­ ØªØ¹Ø§ÙˆÙ† Ø¨Ø­Ø«ÙŠ Ù…Ø¹ Ø¬Ø§Ù…Ø¹Ø© Ø¯Ù…Ø´Ù‚',\n        summary: 'Proposal for joint research projects in the field of renewable energy and sustainable technology.',\n        senderName: 'Damascus University Research Office',\n        category: researchCategory,\n        departments: [researchDept, academicDept],\n        priority: Priority.HIGH,\n      },\n      {\n        referenceNumber: `HIAST-${year}-00004`,\n        subject: 'Legal Review of New Student Admission Policies',\n        subjectAr: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ù„Ø³ÙŠØ§Ø³Ø§Øª Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¬Ø¯Ø¯',\n        summary: 'Legal compliance review for updated student admission and enrollment policies.',\n        senderName: 'Legal Affairs Department',\n        category: legalCategory,\n        departments: [legalDept, academicDept],\n        priority: Priority.NORMAL,\n      },\n      {\n        referenceNumber: `HIAST-${year}-00005`,\n        subject: 'IT Security Audit Requirements',\n        subjectAr: 'Ù…ØªØ·Ù„Ø¨Ø§Øª ØªØ¯Ù‚ÙŠÙ‚ Ø£Ù…Ù† ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',\n        summary: 'Annual IT security audit requirements and compliance checklist for all systems.',\n        senderName: 'National Cybersecurity Directorate',\n        category: technicalCategory,\n        departments: [itDept],\n        priority: Priority.URGENT,\n      },\n    ];\n    \n    if (i <= sampleDocuments.length) {\n      const doc = sampleDocuments[i - 1];\n      const createdDoc = await prisma.document.create({\n        data: {\n          referenceNumber: doc.referenceNumber,\n          dateReceived: new Date(Date.now() - Math.random() * 30 * 24 * 60 * 60 * 1000), // Random date within last 30 days\n          subject: doc.subject,\n          summary: doc.summary,\n          senderType: SenderType.EXTERNAL,\n          senderName: doc.senderName,\n          status: i <= 2 ? DocumentStatus.COMPLETED : i <= 4 ? DocumentStatus.SEEN : DocumentStatus.PENDING,\n          priority: doc.priority,\n          categoryId: doc.category.id,\n          createdById: correspondenceOfficer.id,\n        },\n      });\n      \n      // Assign to departments\n      for (const dept of doc.departments) {\n        await prisma.documentDepartment.create({\n          data: {\n            documentId: createdDoc.id,\n            departmentId: dept.id,\n          },\n        });\n      }\n      \n      documents.push(createdDoc);\n    }\n  }\n\n  // Create some outcomes for completed documents\n  console.log('ðŸ“‹ Creating sample outcomes...');\n  const completedDocs = documents.filter(d => d.status === DocumentStatus.COMPLETED);\n  \n  for (const doc of completedDocs) {\n    await prisma.outcome.create({\n      data: {\n        type: 'APPROVED',\n        summary: `Document ${doc.referenceNumber} has been reviewed and approved. All requirements have been met and actions have been taken.`,\n        date: new Date(),\n        documentId: doc.id,\n        departmentId: itDept.id, // Example department\n        loggedById: itHead.id,\n        requiresFollowUp: false,\n      },\n    });\n  }\n\n  // Create some activity logs\n  console.log('ðŸ“Š Creating activity logs...');\n  for (let i = 0; i < 20; i++) {\n    await prisma.activityLog.create({\n      data: {\n        action: 'Document Created',\n        actionAr: 'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø©',\n        details: `Document with reference number created and assigned to departments`,\n        timestamp: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000),\n        userId: correspondenceOfficer.id,\n        documentId: documents[Math.floor(Math.random() * documents.length)]?.id,\n      },\n    });\n  }\n\n  console.log('âœ… Database seeding completed successfully!');\n  console.log('');\n  console.log('ðŸ”‘ Default Login Credentials:');\n  console.log('   Admin: admin@hiast.edu.sy / admin123');\n  console.log('   Correspondence Officer: fatima.sakr@hiast.edu.sy / password123');\n  console.log('   IT Head: ahmad.rashid@hiast.edu.sy / password123');\n  console.log('   HR Head: layla.hassan@hiast.edu.sy / password123');\n  console.log('');\n}\n\nmain()\n  .catch((e) => {\n    console.error('âŒ Error during seeding:', e);\n    process.exit(1);\n  })\n  .finally(async () => {\n    await prisma.$disconnect();\n  });